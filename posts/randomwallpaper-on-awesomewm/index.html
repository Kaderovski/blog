<!doctype html><html><head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge"><title>Random wallpaper with AwesomeWM ! - Kaderovski</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="I&rsquo;ve been looking for a way to break my routine a bit when I&rsquo;m working on my laptop. I figured that changing the wallpaper randomly and automatically was a good way to break the monotony.
I use awesomeWM (version 4)
[f00b@void ~]$ awesome --version awesome v4.3 (Too long)  • Compiled against Lua 5.3.5 (running with Lua 5.3)  • D-Bus support: ✔  • execinfo support: ✘  • xcb-randr version: 1.">
<meta property="og:image" content>
<meta property="og:title" content="Random wallpaper with AwesomeWM !">
<meta property="og:description" content="I&rsquo;ve been looking for a way to break my routine a bit when I&rsquo;m working on my laptop. I figured that changing the wallpaper randomly and automatically was a good way to break the monotony.
I use awesomeWM (version 4)
[f00b@void ~]$ awesome --version awesome v4.3 (Too long)  • Compiled against Lua 5.3.5 (running with Lua 5.3)  • D-Bus support: ✔  • execinfo support: ✘  • xcb-randr version: 1.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://kaderovski.com/posts/randomwallpaper-on-awesomewm/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2020-01-10T11:10:33+00:00">
<meta property="article:modified_time" content="2020-01-10T11:10:33+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Random wallpaper with AwesomeWM !">
<meta name=twitter:description content="I&rsquo;ve been looking for a way to break my routine a bit when I&rsquo;m working on my laptop. I figured that changing the wallpaper randomly and automatically was a good way to break the monotony.
I use awesomeWM (version 4)
[f00b@void ~]$ awesome --version awesome v4.3 (Too long)  • Compiled against Lua 5.3.5 (running with Lua 5.3)  • D-Bus support: ✔  • execinfo support: ✘  • xcb-randr version: 1.">
<script src=https://kaderovski.com/js/feather.min.js></script>
<link href=https://kaderovski.com/css/fonts.b685ac6f654695232de7b82a9143a46f9e049c8e3af3a21d9737b01f4be211d1.css rel=stylesheet>
<link rel=stylesheet type=text/css media=screen href=https://kaderovski.com/css/main.012e5aa5cb264fd430bd3ad5b7db828508ccc0fc66b280031de12b7eec06ef85.css>
</head><body>
<div class=content><header>
<div class=main>
<a href=https://kaderovski.com>Kaderovski</a>
</div><nav>
<a href=/>Home</a>
<a href=/posts>Posts</a>
<a href=/about>About</a>
<a href=https://photos.kaderovski.com>Photos</a>
<a href=/cv>CV</a>
</nav></header><main>
<article>
<div class=title>
<h1 class=title>Random wallpaper with AwesomeWM !</h1><div class=meta>Posted on Jan 10, 2020</div></div><section class=body>
<p>I&rsquo;ve been looking for a way to break my routine a bit when I&rsquo;m working on my laptop. I figured that changing the wallpaper randomly and automatically was a good way to break the monotony.</p><p>I use awesomeWM (version 4)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>[f00b@void ~]$ awesome --version
</span></span><span style=display:flex><span>awesome v4.3 (Too long)
</span></span><span style=display:flex><span> • Compiled against Lua 5.3.5 (running with Lua 5.3)
</span></span><span style=display:flex><span> • D-Bus support: ✔
</span></span><span style=display:flex><span> • execinfo support: ✘
</span></span><span style=display:flex><span> • xcb-randr version: 1.6
</span></span><span style=display:flex><span> • LGI version: 0.9.2
</span></span></code></pre></div><p>So I needed three things:</p><ul>
<li>A folder full of images</li><li>A little script that will choose one at random</li><li>A call to this script from awesome init</li></ul><p>For the images, I use <a href=https://github.com/LukeSmithxyz/wallpapers>the excellent repo</a> by <strong>Luck Smith</strong>.</p><p>As far as the script is concerned, nothing too hard:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e># author : Kaderovski</span>
</span></span><span style=display:flex><span><span style=color:#75715e># descr : Make your wallpaper change on each start !</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e># I&#39;m using Luck Smith wallpaper git repo for all images</span>
</span></span><span style=display:flex><span><span style=color:#75715e># link : https://github.com/LukeSmithxyz/wallpapers</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># current awesome theme</span>
</span></span><span style=display:flex><span>THEME<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;powerarrow-dark&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Awesome conf path</span>
</span></span><span style=display:flex><span>AWPATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/.config/awesome/themes/</span>$THEME<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># image should have absolute path to image folder</span>
</span></span><span style=display:flex><span>IMAGE<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>find $HOME/Pictures/wallpapers/ -type f -name <span style=color:#e6db74>&#34;*.png&#34;</span> -o -name <span style=color:#e6db74>&#34;*.jpeg&#34;</span> -o -name <span style=color:#e6db74>&#34;*.jpg&#34;</span>| shuf -n <span style=color:#ae81ff>1</span> | sed <span style=color:#e6db74>&#39;s/\ /\\ /g&#39;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cp -f $IMAGE $AWPATH/wall.png
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># don&#39;t forget to add those lines at the end of your rc.lua (replace with your correct path and script name)</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -- Startup programs</span>
</span></span><span style=display:flex><span><span style=color:#75715e># awful.util.spawn_with_shell(&#34;~/bin/wallpaper.sh&#34;)</span>
</span></span></code></pre></div><p>As indicated in comment, just add these two lines (or just one without the comment) to call the script via awesomeWM init.</p><p>Put this at the end of <code>~/.config/awesome/rc.lua</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>-- Startup programs
</span></span><span style=display:flex><span>awful.util.spawn_with_shell(&#34;~/bin/wallpaper.sh&#34;)
</span></span></code></pre></div><p>On each awesomewm restart, you will have a new pretty (or not) wallpaper.</p><p><a href=https://gist.github.com/Kaderovski/785796c5e4e37a4d759f0f8c89c41f0e>Script is on gist !</a></p></section><div class=post-tags>
<nav class="nav tags">
<ul class=tags>
<li><a href=/tags/awesomewm>awesomewm</a></li><li><a href=/tags/linux>linux</a></li><li><a href=/tags/wallpaper>wallpaper</a></li><li><a href=/tags/random>random</a></li></ul></nav></div></article></main><footer>
<div style=display:flex><a class=soc href=https://github.com/kaderovski title=GitHub><i data-feather=github></i></a><a class=soc href=https://gitlab.com/kaderovski title=GitLab><i data-feather=gitlab></i></a></div><div class=footer-info>
2022 © Kaderovski
</div></footer><script>feather.replace()</script></div></body></html>